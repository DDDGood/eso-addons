TQGGamepadShared={}function TQGGamepadShared.GetOverviewZoneInfo(a,b)local c=TQG.ZoneLevelOverview[a][b].name;local zoneDescription=TQG.ZoneLevelOverview[a][b].id;local d=b;return c,zoneDescription,d end;local function e(a,b)local c=""local f=TQG.ZoneLevelGroup[a][b].name;local g=TQG.ZoneLevelGroup[a][b].id;if type(f)=="number"or f==""then f=TQG.ZoneLevelGroup[a][b].name;f="("..string.format("%.2f",f)..")"local h=GetCVar("language.2")if h=="de"or h=="fr"or h=="ru"then f=string.gsub(f,"%.",",",1)end;c=TQG.ZoneLevelGroup[a][b].zoneName or GetZoneNameById(g)local i=TQG.ZoneLevelGroup[a][b].type;if i=="Dungeon"or i=="Arena"then c=string.format("%s |t32:32:%s|t %s",f,"/esoui/art/icons/poi/poi_groupinstance_complete.dds",c)elseif i=="Trial"or i=="Maelstrom Arena"then c=string.format("%s |t32:32:%s|t %s",f,"/esoui/art/icons/poi/poi_raiddungeon_complete.dds",c)end end;zoneDescription=type(g)=="string"and g or GetZoneDescriptionById(g)return c,zoneDescription,b,g end;function TQGGamepadShared.GetZoneInfo(a,b,j)if j==TQG_ALMANAC_CLASSIC then zoneLevel=TQG.ZoneLevelClassic elseif j==TQG_ALMANAC_DLC then zoneLevel=TQG.ZoneLevelDLC elseif j==TQG_ALMANAC_GROUP then return e(a,b)end;local f=zoneLevel[a][b].name;local g=zoneLevel[a][b].id;local zoneDescription=""if type(f)=="number"or f==""then f=zoneLevel[a][b].name;f="("..string.format("%.2f",f)..")"local h=GetCVar("language.2")if h~="en"then f=string.gsub(f,"%.",",",1)end;local c=GetZoneNameById(g)zoneLevel[a][b].name=zo_strformat("<<1>> <<2>>",f,c)end;local c=zoneLevel[a][b].name;zoneDescription=type(g)=="string"and g or GetZoneDescriptionById(g)return c,zoneDescription,b,g end;function TQGGamepadShared.GetNumObjectivesForProgressionLevelAndZone(a,b,objectiveLevel)return#objectiveLevel[a][b]end;function TQGGamepadShared.GetIncrementCounterAndNumObjectives(a,k,b,l)if l==TQG_ALMANAC_CLASSIC then objectiveLevel=TQG.ObjectiveLevelClassic elseif l==TQG_ALMANAC_DLC then objectiveLevel=TQG.ObjectiveLevelDLC elseif l==TQG_ALMANAC_GROUP then objectiveLevel=TQG.ObjectiveLevelGroup end;local numCompletedActivities,m,n,o;if type(k)=="number"then numCompletedActivities,m,n,o=ZO_ZoneStories_Manager.GetActivityCompletionProgressValuesAndText(k,ZONE_COMPLETION_TYPE_PRIORITY_QUESTS)elseif type(k)=="string"then numCompletedActivities,m,n,o=0,0,0,0 end;local p=n;local q=false;if o>0 then p=p+1;q=true end;if p==0 then p=TQGGamepadShared.GetNumObjectivesForProgressionLevelAndZone(a,b,objectiveLevel)end;local r=1;if p~=#objectiveLevel[a][b]then if objectiveLevel[a][b][0]then r=0;local s=objectiveLevel[a][b][0].prologueQIds;if s and s>1 then p=p+s-1 end elseif objectiveLevel[a][b][p+1].overrideDetails then p=p+#objectiveLevel[a][b]-p end end;return r,p,q,o end;function TQGGamepadShared.GetZoneObjectiveInfo(a,b,p,t,l,q,u)if l==TQG_ALMANAC_OVERVIEW then local v=true;local w=false;local f=TQG.ObjectiveLevelOverview[a][b][t].name;local x=TQG.ObjectiveLevelOverview[a][b][t].description;local y=TQG.ObjectiveLevelOverview[a][b][t].description;return f,x,y,t,v,w end;local f,z,A,B,C,D,E;local F=0;if t==p and q==true then f="TBC"z,A=GetErrorString(u)B=t;C=false;D=false;E=false else f,z,A,B,C,D,E=l:b7(a,b,t,numCompletedActivities)zoneCompleted=zoneCompleted and(D or E)if D then F=F+1 end end;return f,z,A,B,C,D,F end